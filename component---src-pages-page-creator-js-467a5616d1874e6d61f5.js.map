{"version":3,"sources":["webpack:///./src/datas/new-schema.js","webpack:///./src/pages/page-creator.js"],"names":["schema","modules","name","dist","components","component","id","props","dataSource","text","children","uuid","style","marginBottom","link","data_text","direction","label","maxLength","rows","width","placeholder","value","size","validate","trigger","rules","fetch","cycle","success","error","before","loading","type","events","onClick","shape","isZebra","method","autorun","url","path","query","apiName","version","requestData","pageSize","page","ruleId","ruleName","userName","industryId","dataIndex","title","cell","align","marginTop","marginLeft","total","onChange","visible","closable","onOk","onCancel","onClose","extra","rule","message","multiple","ruleDesc","empId","ruleType","action","functions","window","_test_","createSchemaModel","PageCreatorFactory","client","PageCreatorWithStore","debounce","key","result","schemaJSON","console","log","put","JSON","stringify","newSchemajson","event","data","isImmediate","post","menu","icon","shortcut","__webpack_exports__","external_React_default","a","createElement","Helmet","charSet","gatsby_link_default","to"],"mappings":"wKAAaA,EAAS,CACpBC,QAAS,CACP,CACEC,KAAM,OACNC,KAAM,wDAER,CACED,KAAM,QACNC,KAAM,0DAGVC,WAAY,CACV,CACEC,UAAW,iBACXC,GAAI,WACJC,MAAO,CACLC,WAAY,CAAC,CAAEC,KAAM,KAEvBC,SAAU,CACR,CACEL,UAAW,MACXC,GAAI,QACJC,MAAO,CAAEG,SAAU,sBAIzB,CACEL,UAAW,MACXC,GAAI,aACJK,KAAM,gBACND,SAAU,CACR,CACEL,UAAW,gBACXC,GAAI,aACJK,KAAM,gBACND,SAAU,CACR,CACEL,UAAW,gBACXC,GAAI,aACJC,MAAO,CACLK,MAAO,CACLC,aAAc,UAGlBF,KAAM,gBACND,SAAU,CACR,CACEL,UAAW,aACXC,GAAI,oBACJK,KAAM,uBACND,SAAU,CACR,CACEL,UAAW,kBACXC,GAAI,wBACJC,MAAO,CACLO,KAAM,GACNC,UAAW,QAEbJ,KAAM,2BACND,SAAU,IAEZ,CACEL,UAAW,kBACXC,GAAI,wBACJC,MAAO,CACLQ,UAAW,SACXD,KAAM,IAERH,KAAM,2BACND,SAAU,UAQxB,CACEL,UAAW,MACXC,GAAI,aACJK,KAAM,gBACND,SAAU,CACR,CACEL,UAAW,MACXC,GAAI,aACJK,KAAM,gBACND,SAAU,CACR,CACEL,UAAW,OACXC,GAAI,cACJC,MAAO,CACLS,UAAW,OAEbL,KAAM,iBACND,SAAU,CACR,CACEL,UAAW,WACXC,GAAI,kBACJC,MAAO,CACLU,MAAO,SAETN,KAAM,qBACND,SAAU,CACR,CACEL,UAAW,QACXC,GAAI,YACJC,MAAO,CACLW,UAAW,GACXC,KAAM,EACNP,MAAO,CACLQ,MAAO,SAETC,YAAa,GACbC,MAAO,oCACPC,KAAM,SAERA,KAAM,SACNC,SAAU,CACRC,QAAS,CAAC,UACVC,MAAO,IAETf,KAAM,kBACND,SAAU,MAIhB,CACEL,UAAW,WACXC,GAAI,kBACJC,MAAO,CACLU,MAAO,QAETN,KAAM,qBACND,SAAU,CACR,CACEL,UAAW,QACXC,GAAI,cACJC,MAAO,CACLK,MAAO,CACLQ,MAAO,QAGXT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","file":"component---src-pages-page-creator-js-467a5616d1874e6d61f5.js","sourcesContent":["export const schema = {\n  modules: [\n    {\n      name: 'Next',\n      dist: 'http://gcs.dockerlab.alipay.net/assets/Next/index.js'\n    },\n    {\n      name: 'Gourd',\n      dist: 'http://gcs.dockerlab.alipay.net/assets/Gourd/index.js'\n    }\n  ],\n  components: [\n    {\n      component: 'Gourd.Iterator',\n      id: 'Iterator',\n      props: {\n        dataSource: [{ text: 1 }]\n      },\n      children: [\n        {\n          component: 'div',\n          id: 'itdiv',\n          props: { children: '{{$scope.text}}' }\n        }\n      ]\n    },\n    {\n      component: 'div',\n      id: '$div_rk2ss',\n      uuid: '$uu_div_ryTAh',\n      children: [\n        {\n          component: 'Next.Grid.Row',\n          id: '$Row_B1wLZ',\n          uuid: '$uu_Row_BJeaC',\n          children: [\n            {\n              component: 'Next.Grid.Col',\n              id: '$Col_HJlwL',\n              props: {\n                style: {\n                  marginBottom: ' 20px'\n                }\n              },\n              uuid: '$uu_Col_ByP6C',\n              children: [\n                {\n                  component: 'Breadcrumb',\n                  id: '$Breadcrumb_HymdZ',\n                  uuid: '$uu_Breadcrumb_B1apC',\n                  children: [\n                    {\n                      component: 'Breadcrumb.Item',\n                      id: '$BreadcrumbItem_B1qdb',\n                      props: {\n                        link: '',\n                        data_text: '选品平台'\n                      },\n                      uuid: '$uu_BreadcrumbItem_BJLgT',\n                      children: []\n                    },\n                    {\n                      component: 'Breadcrumb.Item',\n                      id: '$BreadcrumbItem_SJVgf',\n                      props: {\n                        data_text: '选商品222',\n                        link: ''\n                      },\n                      uuid: '$uu_BreadcrumbItem_Syve6',\n                      children: []\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        },\n        {\n          component: 'Row',\n          id: '$Row_SkKP1',\n          uuid: '$uu_Row_SJWTR',\n          children: [\n            {\n              component: 'Col',\n              id: '$Col_Bketv',\n              uuid: '$uu_Col_Hyd6R',\n              children: [\n                {\n                  component: 'Form',\n                  id: '$Form_HJCOJ',\n                  props: {\n                    direction: 'hoz'\n                  },\n                  uuid: '$uu_Form_HkR6R',\n                  children: [\n                    {\n                      component: 'FormItem',\n                      id: '$FormItem_BklCu',\n                      props: {\n                        label: '规则 id'\n                      },\n                      uuid: '$uu_FormItem_Sk$ga',\n                      children: [\n                        {\n                          component: 'Input',\n                          id: '$Input_id',\n                          props: {\n                            maxLength: 20,\n                            rows: 0,\n                            style: {\n                              width: ' 80px'\n                            },\n                            placeholder: '',\n                            value: '$store.$Select_industryName.value',\n                            size: 'small'\n                          },\n                          size: 'medium',\n                          validate: {\n                            trigger: ['onBlur'],\n                            rules: []\n                          },\n                          uuid: '$uu_Input_rk8_6',\n                          children: []\n                        }\n                      ]\n                    },\n                    {\n                      component: 'FormItem',\n                      id: '$FormItem_SkEFk',\n                      props: {\n                        label: '规则名称'\n                      },\n                      uuid: '$uu_FormItem_HkFx6',\n                      children: [\n                        {\n                          component: 'Input',\n                          id: '$Input_name',\n                          props: {\n                            style: {\n                              width: '100'\n                            }\n                          },\n                          uuid: '$uu_Input_SyDWp',\n                          children: []\n                        }\n                      ]\n                    },\n                    {\n                      component: 'FormItem',\n                      id: '$FormItem_HJdYJ',\n                      props: {\n                        label: '创建者'\n                      },\n                      uuid: '$uu_FormItem_H15lp',\n                      children: [\n                        {\n                          component: 'Input',\n                          id: '$Input_optUserNick',\n                          props: {\n                            style: {\n                              width: '80'\n                            },\n                            value: '$store.global.user.nick'\n                          },\n                          uuid: '$uu_Input_H1uZT',\n                          children: []\n                        }\n                      ]\n                    },\n                    {\n                      component: 'FormItem',\n                      id: '$FormItem_BJsKJ',\n                      props: {\n                        label: '行业市场'\n                      },\n                      uuid: '$uu_FormItem_ryjgp',\n                      children: [\n                        {\n                          component: 'Select',\n                          id: '$Select_industryId',\n                          size: 'medium',\n                          props: {\n                            value: '',\n                            dataSource: []\n                          },\n                          fetch: {\n                            cycle: {\n                              success: {},\n                              error: {},\n                              before: {},\n                              loading: {}\n                            }\n                          },\n                          uuid: '$uu_Select_rkK_p',\n                          children: []\n                        }\n                      ]\n                    },\n                    {\n                      component: 'FormItem',\n                      id: '$FormItem_ryLql',\n                      props: {\n                        label: ''\n                      },\n                      uuid: '$uu_FormItem_r1nlT',\n                      children: [\n                        {\n                          component: 'Button',\n                          id: '$Button_query',\n                          props: {\n                            data_text: '查询规则',\n                            type: 'primary',\n                            loading: false\n                          },\n                          events: {\n                            onClick: '__$Button_query_onClick'\n                          },\n                          uuid: '$uu_Button_HJ5W6',\n                          children: []\n                        }\n                      ]\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        },\n        {\n          component: 'Row',\n          id: '$Row_S1Y5R',\n          uuid: '$uu_Row_rJMTA',\n          children: [\n            {\n              component: 'Col',\n              id: '$Col_BylFq',\n              uuid: '$uu_Col_H1YTC',\n              children: [\n                {\n                  component: 'Button',\n                  id: '$Button_new',\n                  props: {\n                    data_text: '新建规则',\n                    type: 'primary',\n                    shape: false\n                  },\n                  events: {\n                    onClick: '__$Button_new_onClick'\n                  },\n                  uuid: '$uu_Button_SkJgp',\n                  children: []\n                }\n              ]\n            }\n          ]\n        },\n        {\n          component: 'Row',\n          id: '$Row_H1Sl9',\n          uuid: '$uu_Row_r1X6C',\n          children: [\n            {\n              component: 'Col',\n              id: '$Col_r1eSe',\n              uuid: '$uu_Col_Hk96C',\n              children: [\n                {\n                  component: 'Table',\n                  id: '$Table_rule',\n                  props: {\n                    dataSource: '$store.$Table_rule.$remote.result.model.data',\n                    isZebra: false\n                  },\n                  fetch: {\n                    method: 'GET',\n                    autorun: true,\n                    url: {\n                      path:\n                        '//paimai-admin.daily.taobao.net/gourd/gourdServiceApiNew.htm',\n                      query: {\n                        apiName: 'console.selection.goods.rule.query',\n                        version: '1.0',\n                        requestData: {\n                          pageSize: '10',\n                          page: '$store.$Pagination_HybSq.value',\n                          ruleId: '$store.$Input_id.value',\n                          ruleName: '$store.$Input_name.value',\n                          userName: '$store.$Input_optUserNick.value',\n                          industryId: '$store.$Select_industryId.value'\n                        }\n                      }\n                    },\n                    cycle: {\n                      success: {},\n                      error: {},\n                      loading: {},\n                      before: {}\n                    }\n                  },\n                  uuid: '$uu_Table_S1gl6',\n                  children: [\n                    {\n                      component: 'Table.Column',\n                      id: '$TableColumn_rklGf',\n                      props: {\n                        dataIndex: 'ruleId',\n                        title: '规则 id',\n                        width: 140,\n                        cell: '__$TableColumn_rklGf_cell'\n                      },\n                      uuid: '$uu_TableColumn_S16xp',\n                      children: []\n                    },\n                    {\n                      component: 'Table.Column',\n                      id: '$TableColumn_ByWGG',\n                      props: {\n                        dataIndex: 'ruleName',\n                        title: '规则名称',\n                        cell: '__$TableColumn_ByWGG_cell'\n                      },\n                      uuid: '$uu_TableColumn_ry0x6',\n                      children: []\n                    },\n                    {\n                      component: 'Table.Column',\n                      id: '$TableColumn_BkeNX',\n                      props: {\n                        dataIndex: 'ruleDesc',\n                        title: '规则描述'\n                      },\n                      uuid: '$uu_TableColumn_rkxeV',\n                      children: []\n                    },\n                    {\n                      component: 'Table.Column',\n                      id: '$TableColumn_Hk4Mz',\n                      props: {\n                        title: '创建者',\n                        dataIndex: 'optNick',\n                        width: 90,\n                        align: 'center'\n                      },\n                      uuid: '$uu_TableColumn_rJxbT',\n                      children: []\n                    },\n                    {\n                      component: 'Table.Column',\n                      id: '$TableColumn_BkBfG',\n                      props: {\n                        title: '行业市场',\n                        dataIndex: 'industryName',\n                        width: 90,\n                        align: 'center'\n                      },\n                      uuid: '$uu_TableColumn_B1W_a',\n                      children: []\n                    },\n                    {\n                      component: 'Table.Column',\n                      id: '$TableColumn_rJLzz',\n                      props: {\n                        title: '操作',\n                        cell: '__$TableColumn_rJLzz_cell'\n                      },\n                      uuid: '$uu_TableColumn_r1MZT',\n                      children: []\n                    }\n                  ]\n                }\n              ]\n            }\n          ]\n        },\n        {\n          component: 'Pagination',\n          id: '$Pagination_HybSq',\n          props: {\n            style: {\n              marginTop: '10px',\n              marginLeft: ' 20px'\n            },\n            pageSize: 10,\n            total: '$store.$Table_rule.$remote.result.model.page.totalCount',\n            value: 0\n          },\n          size: 'medium',\n          events: {\n            onChange: '__$Pagination_HybSq_onChange'\n          },\n          uuid: '$uu_Pagination_rkZlp',\n          children: []\n        },\n        {\n          component: 'Dialog',\n          id: '$Dialog_Skw6Z',\n          props: {\n            title: '编辑规则',\n            visible: false,\n            closable: true\n          },\n          events: {\n            onOk: '__$Dialog_Skw6Z_onOk',\n            onCancel: '__$Dialog_Skw6Z_onCancel',\n            onClose: '__$Dialog_Skw6Z_onClose'\n          },\n          uuid: '$uu_Dialog_SkVa0',\n          children: [\n            {\n              component: 'Form',\n              id: '$Form_rkLgz',\n              events: {},\n              uuid: '$uu_Form_B1j60',\n              children: [\n                {\n                  component: 'FormItem',\n                  id: '$FormItem_H1lUl',\n                  props: {\n                    label: '规则名称',\n                    extra: ''\n                  },\n                  uuid: '$uu_FormItem_rkMx6',\n                  children: [\n                    {\n                      component: 'Input',\n                      id: '$Input_newRuleName',\n                      props: {\n                        style: {\n                          width: ' 300px'\n                        }\n                      },\n                      size: 'medium',\n                      validate: {\n                        trigger: ['onBlur'],\n                        rules: [\n                          {\n                            rule: 'required',\n                            value: true,\n                            message: '名称不能为空'\n                          }\n                        ]\n                      },\n                      uuid: '$uu_Input_SJ7_T',\n                      children: []\n                    }\n                  ]\n                },\n                {\n                  component: 'FormItem',\n                  id: '$FormItem_HJcZG',\n                  props: {\n                    label: '规则描述'\n                  },\n                  uuid: '$uu_FormItem_BkQeT',\n                  children: [\n                    {\n                      component: 'Input',\n                      id: '$Input_newRuleDesc',\n                      props: {\n                        multiple: true,\n                        rows: 2,\n                        maxLength: 10,\n                        style: {\n                          width: ' 300px'\n                        }\n                        // value: '',\n                      },\n                      size: 'medium',\n                      validate: {\n                        trigger: ['onBlur'],\n                        rules: [\n                          {\n                            rule: 'required',\n                            value: true,\n                            message: '描述是必填'\n                          }\n                        ]\n                      },\n                      uuid: '$uu_Input_HJEZa',\n                      children: []\n                    }\n                  ]\n                },\n                {\n                  component: 'FormItem',\n                  id: '$FormItem_Hyjfz',\n                  props: {\n                    label: '行业市场'\n                  },\n                  uuid: '$uu_FormItem_BkNxa',\n                  children: [\n                    {\n                      component: 'Select',\n                      id: '$Select_newIndustryId',\n                      props: {\n                        style: {\n                          width: ' 100px'\n                        },\n                        dataSource: []\n                      },\n                      fetch: {\n                        cycle: {\n                          success: {},\n                          error: {},\n                          loading: {},\n                          before: {}\n                        }\n                      },\n                      size: 'medium',\n                      validate: {\n                        trigger: ['onChange'],\n                        rules: [\n                          {\n                            rule: 'required',\n                            value: true,\n                            message: '行业市场是必填'\n                          }\n                        ]\n                      },\n                      uuid: '$uu_Select_Bkr_a',\n                      children: []\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              component: 'Io',\n              id: '$Io_save',\n              props: {\n                dataSource: '$store.$Io_save.$remote.result.model'\n              },\n              fetch: {\n                method: 'GET',\n                autorun: false,\n                url: {\n                  path:\n                    '//paimai-admin.daily.taobao.net/gourd/gourdServiceApiNew.htm',\n                  query: {\n                    apiName: 'console.selection.goods.rule.save',\n                    version: '1.0',\n                    requestData: {\n                      ruleName: '$store.$Input_newRuleName.value',\n                      ruleDesc: '$store.$Input_newRuleDesc.value',\n                      industryId: '$store.$Select_newIndustryId.value',\n                      ruleId: '$store.$Hidden_ruleId.value',\n                      empId: '$store.global.user.id'\n                    }\n                  }\n                },\n                cycle: {\n                  success: {},\n                  error: {},\n                  loading: {},\n                  before: {}\n                }\n              },\n              uuid: '$uu_Io_HJ3aR',\n              children: []\n            },\n            {\n              component: 'Hidden',\n              id: '$Hidden_ruleId',\n              uuid: '$uu_Hidden_SJeG8',\n              children: []\n            }\n          ]\n        },\n        {\n          component: 'Io',\n          id: '$Io_del',\n          props: {\n            dataSource: '$store.$Io_del.$remote.result'\n          },\n          fetch: {\n            method: 'GET',\n            autorun: false,\n            url: {\n              path:\n                '//paimai-admin.daily.taobao.net/gourd/gourdServiceApiNew.htm',\n              query: {\n                apiName: 'console.selection.goods.rule.del',\n                version: '1.0',\n                requestData: {\n                  empId: '$store.global.user.id'\n                }\n              }\n            },\n            cycle: {\n              success: {},\n              error: {},\n              loading: {},\n              before: {}\n            }\n          },\n          uuid: '$uu_Io_HJSa0',\n          children: []\n        },\n        {\n          component: 'Io',\n          id: '$Io_copy',\n          props: {\n            dataSource: '$store.$Io_copy.$remote.result.model'\n          },\n          fetch: {\n            method: 'GET',\n            autorun: false,\n            url: {\n              path:\n                '//paimai-admin.daily.taobao.net/gourd/gourdServiceApiNew.htm',\n              query: {\n                apiName: 'console.selection.goods.rule.copy',\n                version: '1.0',\n                requestData: {\n                  empId: '$store.global.user.id'\n                }\n              }\n            },\n            cycle: {\n              success: {},\n              error: {},\n              loading: {},\n              before: {}\n            }\n          },\n          uuid: '$uu_Io_r1IaA',\n          children: []\n        },\n        {\n          component: 'Io',\n          id: '$Io_B1ucl',\n          props: {\n            dataSource: '$store.$Io_B1ucl.$remote.dataList'\n          },\n          fetch: {\n            method: 'GET',\n            autorun: true,\n            url: {\n              path:\n                '//paimai-admin.daily.taobao.net/gourd/gourdServiceApiNew.htm',\n              query: {\n                apiName: 'console.selection.goods.industryList',\n                version: '1.0',\n                requestData: {\n                  ruleType: '1'\n                }\n              }\n            },\n            cycle: {\n              success: {\n                action: '__$Io_B1ucl_fetch_success'\n              },\n              error: {},\n              before: {},\n              loading: {}\n            }\n          },\n          uuid: '$uu_Io_ryxuq',\n          children: []\n        }\n      ]\n    }\n  ],\n  functions: window._test_\n};\n","import React from \"react\"\nimport Link from \"gatsby-link\"\nimport { Helmet } from \"react-helmet\"\n\nimport { createSchemaModel, ISchemaProps } from \"ide-tree\"\n// import { schemaConverter, ESchemaOrigin } from \"ide-component-tree\"\nimport { debounce } from \"ts-debounce\"\nimport { schema as newSchemajson } from \"../datas/new-schema.js\"\n\nimport {\n  PageCreatorFactory,\n} from \"page-creator-ide\"\n\nconst schemaJSONv2 = {};//schemaConverter(newSchemajson.components)\n\nconst schema = createSchemaModel(schemaJSONv2)\n\nconst onExpand = function(keys) {\n  // console.log(888, keys);\n}\n\nconst onSelectNode = node => {\n  console.log(\"当前选中的 node:\", node.id, node.name)\n}\n\n/**\n * context menu 部分\n */\nconst menu = {\n  id: \"component-tree\",\n  name: \"组件树右键菜单\",\n  children: [\n    { id: \"createSub\", name: \"添加组件\", icon: \"plus\", shortcut: \"⌘+Alt+G\" },\n    // { id: 'createTmpl', name: '添加模板', icon: 'plus', shortcut: '' },\n    { id: \"createUp\", name: \"前面插入组件\", icon: \"arrow-up\", shortcut: \"\" },\n    {\n      id: \"createDown\",\n      name: \"后面插入组件\",\n      icon: \"arrow-down\",\n      shortcut: \"\",\n    },\n    {\n      id: \"divider\",\n      name: \"分割线\",\n      icon: \"file\",\n      type: \"separator\",\n    },\n    { id: \"copy\", name: \"复制\", icon: \"copy\", shortcut: \"⌘+C\" },\n    { id: \"paste\", name: \"粘贴\", icon: \"switcher\", shortcut: \"⌘+V\" },\n    {\n      id: \"divider\",\n      name: \"分割线\",\n      icon: \"file\",\n      type: \"separator\",\n    },\n    { id: \"delete\", name: \"删除\", icon: \"delete\", shortcut: \"⌘+Delete\" },\n  ],\n}\n\nconst { PageCreatorWithStore, client } = PageCreatorFactory()\n\nfunction onClick(value) {\n  console.log(\"当前点击：\", value)\n}\n\nfunction onRightClick({ node, event }) {\n  console.log(\"onRightClick...\")\n}\n\nfunction onSwitchWithClient(panel, index) {\n  console.log(\"[with client]当前点击：\", panel, index)\n  // client.put('/clients/switchPanel/clients/codeEditor/editor', {\n  //   name: 'value',\n  //   value: `${index}: panel name: ${panel.id}`\n  // });\n}\n// 经过 debounce 处理的函数，提高性能\nconst schemaModelChange = debounce(\n  (key, value) => {\n    if (key === \"schema\") {\n      const result = value.schemaJSON ? value.schemaJSON : value\n      console.log(777, \"schema changed:\", key)\n\n      // 更改 ide 的内容\n      client.put(\"/clients/switchPanel/clients/codeEditor/editor\", {\n        name: \"value\",\n        value: JSON.stringify(result.children, null, 4),\n      })\n\n      // 然后传递数据给 iframe\n      newSchemajson.components = result.children\n      client.put(\"/clients/switchPanel/clients/previewer/iframe\", {\n        name: \"data\",\n        value: {\n          event: \"data-from-ide\",\n          type: \"updateSchema\",\n          data: newSchemajson,\n        },\n      })\n    }\n  },\n  400,\n  {\n    isImmediate: true,\n  }\n)\n\nconst componentTree = {\n  schemaTree: {\n    onSelectNode: onSelectNode,\n    onRightClickNode: onRightClick,\n    onModelChange: schemaModelChange,\n    onExpand,\n  },\n}\n\nconst switchPanel = {\n  onSwitch: onSwitchWithClient,\n  codeEditor: {\n    language: \"json\",\n  },\n  previewer: {\n    url: \"http://localhost:9006/gourd2/pi/demo/index.html?from=ide\",\n  },\n}\n\n// 创建组件树和右键菜单\nclient.post(\"/clients/componentTree/clients/schemaTree/tree\", {\n  schema: schema,\n}) // 注意这里的 schema 需要用 createSchemaModel 转换一层，否则因为缺少 parentId ，导致无法创建成功\nclient.post(\"/clients/componentTree/clients/contextMenu/menu\", { menu: menu })\n\nexport default () => (\n  <div>\n    <Helmet>\n      <meta charSet=\"utf-8\" />\n      <title>页面可视化搭建平台</title>\n    </Helmet>\n\n    <Link to=\"/\">back home</Link>\n    {/* <PageCreatorWithStore\n      componentTree={componentTree}\n      switchPanel={switchPanel}\n      onClick={onClick}\n    /> */}\n  </div>\n)\n"],"sourceRoot":""}